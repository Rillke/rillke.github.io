
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Rillke</title>
  <meta name="author" content="Rainer Rillke">

  
  <meta name="description" content="Flickr is a great site for hosting and sharing photos publicly. About Flickr The commercial business by Yahoo comes with web and mobile photo editing &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.rillke.com">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Rillke" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/rlk-extension.css" rel="stylesheet" type="text/css">
<script src="/javascripts/flick.js"></script>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Rillke</a></h1>
  
    <h2>Wikimedia, MediaWiki, DokuWiki, Photos</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.rillke.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/28/how-to-dynamically-scale-embedded-flickr-images/">Scaling Embedded Flickr Images</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-28T18:55:06+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:55 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="//www.flickr.com/photos/rillke/sets">Flickr</a> is a great site for hosting and sharing photos publicly.</p>

<h2>About Flickr</h2>


<p>The commercial business by Yahoo comes with web and mobile photo editing facilities, a wide range of selectable licenses,
slideshow features, an API and a healthy community. Flickr is in good public perception.
With 3.5 million new images uploaded daily, it is certainly one of the largest image hosts.
Most of its services are for free and I never felt the need for a paid account.</p>

<h2>Embedding images from Flickr</h2>


<p><a href="//blog.flickr.net/en/2013/12/18/flickr-web-embeds/">The embed feature</a> offers two options for embedding images into a page:</p>

<ul>
<li>Static linking using the <code>&lt;img&gt;</code> tag (HTML)</li>
<li>Embedding an interactive <code>&lt;iframe&gt;</code> (embed), which, in fact, embeds a slideshow</li>
</ul>


<p>Let&rsquo;s have a closer look at the iframe offered for embedding:</p>

<figure class='code'><figcaption><span>Flickr embed snippet </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;iframe</span>
</span><span class='line'>  <span class="na">src=</span><span class="s">&quot;https://www.flickr.com/photos/rillke/15282064709/in/set-72157648078805150/player/&quot;</span>
</span><span class='line'>  <span class="na">width=</span><span class="s">&quot;640&quot;</span>
</span><span class='line'>  <span class="na">height=</span><span class="s">&quot;480&quot;</span>
</span><span class='line'>  <span class="na">frameborder=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>  <span class="na">allowfullscreen</span> <span class="na">webkitallowfullscreen</span> <span class="na">mozallowfullscreen</span>
</span><span class='line'>  <span class="na">oallowfullscreen</span> <span class="na">msallowfullscreen</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/iframe&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><small>The <code>*allowfullscreen</code> attributes are there to allow visitors to open the slideshow
in <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode#When_a_fullscreen_request_fails">full screen mode</a>.
</small></p>

<h3>Full width images on dynamic, responsive layouts</h3>


<p>The only weakness is the fixed width and height. What about responsive designs, mobile devices? What about Full-HD screens?
Wouldn&rsquo;t it be a great opener for your page or post? Here is how:</p>

<p>It is fairly simple to change its size dynamically, so it uses a specified percentage of the available width inside its container and
preserves its aspect ratio, <a href="//stackoverflow.com/a/12121309">using purely CSS</a>.</p>

<figure class="codepen">
<iframe
    height='305'
    scrolling='no'
    src='//codepen.io/Rillke/embed/xbGvKO/'
    frameborder='no'
    allowtransparency='true'
    allowfullscreen='true'
    style='width: 100%;'>
    See the Pen <a href='http://codepen.io/Rillke/pen/xbGvKO/'>xbGvKO</a> by Rainer Rillke
    (<a href='http://codepen.io/Rillke'>@Rillke</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>
<figcaption>This iframe is not resizable because CodePen decided to limit the size on their side.
Thus, adding dynamic resize features here wouldn&#8217;t make sense.</figcaption>
</figure>


<p>Hurray! Eeek, wait, really? There is a hardcoded aspect ratio and the CSS code will have to be placed into a style tag or onto a loaded stylesheet.
The reason is the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::after"><code>:after</code> pseudo-element</a>,
which naturally does not exist and therefore has no adjustable style attribute.
Well, this is certainly a clean way and if your images all share the same aspect ratio, or you have a limited set of aspect ratios, not a big deal.
Still, one could go the not-so-clean way utilizing a dummy element, dropping the aspect ratio from the style tag and throwing it into
the style attribute of that dummy:</p>

<figure class="codepen">
<iframe
    height='305'
    scrolling='no'
    src='//codepen.io/Rillke/embed/azOeZm/'
    frameborder='no'
    allowtransparency='true'
    allowfullscreen='true'
    style='width: 100%;'>
    See the Pen <a href='http://codepen.io/Rillke/pen/azOeZm/'>azOeZm</a> by Rainer Rillke
    (<a href='http://codepen.io/Rillke'>@Rillke</a>) on <a href='http://codepen.io'>CodePen</a>.
</iframe>
</figure>


<p>Wait. What about image quality while increasing the ifame&rsquo;s size? <br />
We are in safe hands: Interestingly, Flickr considered that and will load a bigger image on demand.</p>

<p>Statically linked images (also known as <em>hotlinking</em>) are a little trickier to treat because they will not automatically load higher resolution versions.
That is where we&rsquo;ll have to bring JavaScript into play.</p>

<h3>JavaScript resize event handling</h3>


<p>I <a href="https://gist.github.com/Rillke/e83b06b4729b2786a6d8">wrote a script</a> that will do resizing for both, iframes and images in <code>&lt;img&gt;</code> tags.</p>

<p>Use it as follows:</p>

<ul>
<li>Replace <code>entry-content</code> with the class of the parent element of the <code>&lt;iframe&gt;</code>s or images.</li>
<li>Add the classes <code>rlk-autosize</code>and <code>rlk-fullwidth</code> to all images and iframes that should take the full width of their container and preserve their aspect ratio.</li>
<li>Add a <code>data-sizes</code> attribute to the <code>&lt;img&gt;</code> tag containing a JSON formatted map of sizes to path parts where a path part is the part between the first underscore and the <code>.fileextension</code>.</li>
</ul>


<figure class='code'><figcaption><span>Exemplary usage of flick.js </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;iframe</span>
</span><span class='line'>  <span class="na">class=</span><span class="s">&quot;rlk-autosize rlk-fullwidth&quot;</span>
</span><span class='line'>  <span class="na">src=</span><span class="s">&quot;//www.flickr.com/photos/rillke/14939106903/in/set-72157646495502983/player/&quot;</span>
</span><span class='line'>  <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;271&quot;</span>
</span><span class='line'>  <span class="na">frameborder=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>  <span class="na">allowfullscreen</span> <span class="na">webkitallowfullscreen</span> <span class="na">mozallowfullscreen</span> <span class="na">oallowfullscreen</span> <span class="na">msallowfullscreen</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/iframe&gt;</span>
</span><span class='line'><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;//www.flickr.com/photos/rillke/15282064709&quot;</span> <span class="na">title=</span><span class="s">&quot;Ilhabela by Rainer Rillke, on Flickr&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;img</span>
</span><span class='line'>  <span class="na">class=</span><span class="s">&quot;rlk-autosize rlk-fullwidth&quot;</span>
</span><span class='line'>  <span class="na">src=</span><span class="s">&quot;//farm3.staticflickr.com/2948/15282064709_d93402d639_z.jpg&quot;</span>
</span><span class='line'>  <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;480&quot;</span>
</span><span class='line'>  <span class="na">alt=</span><span class="s">&quot;Ilhabela&quot;</span>
</span><span class='line'>  <span class="na">data-sizes=</span><span class="s">&#39;{&quot;240&quot;:&quot;d93402d639_m&quot;,&quot;320&quot;:&quot;d93402d639_n&quot;,&quot;500&quot;:&quot;d93402d639&quot;,&quot;640&quot;:&quot;d93402d639_z&quot;,&quot;800&quot;:&quot;d93402d639_c&quot;,&quot;1024&quot;:&quot;d93402d639_b&quot;,&quot;1600&quot;:&quot;28680b1641_h&quot;,&quot;2000&quot;:&quot;a3523f02e3_o&quot;}&#39;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/a&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>How about a live example? Check out <a href="/blog/2014/11/28/brazil-in-pictures/">Brazil in Pictures</a>.</p>

<h3>Where to go from here?</h3>


<p>A cool feature would be a routine querying the <a href="//www.flickr.com/services/api/flickr.photos.getSizes.html">Flickr API</a> for other resolution,
omitting the need to add all resolutions into a <code>data-sizes</code> attribute.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/28/brazil-in-pictures/">Brazil in Pictures</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-28T16:17:18+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:17 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe class="rlk-autosize rlk-fullwidth" src="//www.flickr.com/photos/rillke/14939106903/in/set-72157646495502983/player/" width="640" height="271" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>


<p><a href="//www.flickr.com/photos/rillke/15282064709" title="Ilhabela by Rainer Rillke, on Flickr"><img class="rlk-autosize rlk-fullwidth" src="//farm3.staticflickr.com/2948/15282064709_d93402d639_z.jpg" width="640" height="480" alt="Ilhabela" data-sizes='{"240":"d93402d639_m","320":"d93402d639_n","500":"d93402d639","640":"d93402d639_z","800":"d93402d639_c","1024":"d93402d639_b","1600":"28680b1641_h","2000":"a3523f02e3_o"}'></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/28/google-summer-of-code/">Google Summer of Code</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-28T16:08:57+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:08 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/27/libre-graphics-meeting-and-microsoft-student-technology-conference/">The Fun Geek Week</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-27T16:08:57+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:08 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How much spare time do you enjoy?</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/28/how-to-dynamically-scale-embedded-flickr-images/">Scaling Embedded Flickr Images</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/28/brazil-in-pictures/">Brazil in Pictures</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/28/google-summer-of-code/">Google Summer of Code</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/27/libre-graphics-meeting-and-microsoft-student-technology-conference/">The Fun Geek Week</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/Rillke">@Rillke</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'Rillke',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/rainerrillke?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Rainer Rillke -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rillke-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
